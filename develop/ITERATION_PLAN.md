# Open-Think-Reflex Development Plan

> **Project**: Open-Think-Reflex v1.0  
> **Goal**: AIè¾“å…¥åŠ é€Ÿå™¨ (AI Input Accelerator)  
> **Iteration**: 15 minutes per sprint  
> **Updated**: 2026-02-20

---

## 1. è¿­ä»£å¼€å‘è®¡åˆ’æ€»è§ˆ

### 1.1 å¼€å‘é˜¶æ®µåˆ’åˆ†

| é˜¶æ®µ | è¿­ä»£æ•° | é¢„è®¡æ—¶é—´ | ç›®æ ‡ |
|------|---------|----------|------|
| **Phase 1: åŸºç¡€è®¾æ–½** | 8 | 2h | é¡¹ç›®ç»“æ„ã€é…ç½®ã€æ•°æ®å±‚ |
| **Phase 2: æ ¸å¿ƒåŠŸèƒ½** | 12 | 3h | Patternç®¡ç†ã€åŒ¹é…å¼•æ“ |
| **Phase 3: CLIäº¤äº’** | 10 | 2.5h | ç»ˆç«¯UIã€å‘½ä»¤å¤„ç† |
| **Phase 4: AIé›†æˆ** | 6 | 1.5h | AI Provideré›†æˆ |
| **Phase 5: æµ‹è¯•è°ƒä¼˜** | 6 | 1.5h | å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯• |
| **Total** | **42** | **10.5h** | v1.0 MVP |

### 1.2 é‡Œç¨‹ç¢‘

```
v1.0 MVP é‡Œç¨‹ç¢‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

è¿­ä»£ 1-8:   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] åŸºç¡€è®¾æ–½ (åŸºç¡€è®¾æ–½æ­å»ºå®Œæˆ)
è¿­ä»£ 9-20:  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æ ¸å¿ƒåŠŸèƒ½ (Pattern CRUD + åŒ¹é…å¼•æ“)
è¿­ä»£ 21-30: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] CLIäº¤äº’ (ç»ˆç«¯UI + å‘½ä»¤)
è¿­ä»£ 31-36: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] AIé›†æˆ (Claudeé›†æˆ)
è¿­ä»£ 37-42: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•è°ƒä¼˜ (æµ‹è¯•è¦†ç›– + ä¼˜åŒ–)
                                    â†“
                              v1.0 äº¤ä»˜
```

---

## 2. Phase 1: åŸºç¡€è®¾æ–½ (è¿­ä»£ 1-8)

### ç›®æ ‡: å»ºç«‹é¡¹ç›®éª¨æ¶ï¼Œå®Œæˆæ•°æ®å±‚å’Œé…ç½®ç³»ç»Ÿ

| è¿­ä»£ | æ—¶é•¿ | ä»»åŠ¡ | éªŒæ”¶æ ‡å‡† |
|------|------|------|----------|
| **Iter 1** | 15min | åˆå§‹åŒ–Goé¡¹ç›®ç»“æ„ï¼Œé…ç½®Go Modules | `go.mod` åˆ›å»ºï¼Œ`cmd/` `internal/` `pkg/` ç›®å½•å­˜åœ¨ |
| **Iter 2** | 15min | å®ç°é…ç½®åŠ è½½ (viper) | æ”¯æŒ YAML é…ç½®ï¼Œèƒ½è¯»å– AI/Storage é…ç½® |
| **Iter 3** | 15min | å®šä¹‰æ•°æ®æ¨¡å‹ (Pattern, Space) | `pkg/models/` åŒ…å« Pattern/Space å®šä¹‰ |
| **Iter 4** | 15min | SQLite æ•°æ®åº“åˆå§‹åŒ– | èƒ½åˆ›å»º patterns/spaces è¡¨ï¼Œè¿æ¥æ­£å¸¸ |
| **Iter 5** | 15min | å®ç° Storage æ¥å£ (SQLite) | CRUD æ“ä½œå¯ç”¨ï¼Œå•å…ƒæµ‹è¯•é€šè¿‡ |
| **Iter 6** | 15min | é”™è¯¯ç ç³»ç»Ÿå®ç° | `pkg/errors/` åŒ…å«å®Œæ•´é”™è¯¯å®šä¹‰ |
| **Iter 7** | 15min | é…ç½® CLI æ¡†æ¶ (urfave/cli) | `otr --help` æ­£å¸¸è¾“å‡º |
| **Iter 8** | 15min | Phase 1 é›†æˆæµ‹è¯• | ç«¯åˆ°ç«¯æµ‹è¯•ï¼šé…ç½®â†’å­˜å‚¨â†’CLI |

---

## 3. Phase 2: æ ¸å¿ƒåŠŸèƒ½ (è¿­ä»£ 9-20)

### ç›®æ ‡: å®ç°Patternç®¡ç†å’ŒåŒ¹é…å¼•æ“

| è¿­ä»£ | æ—¶é•¿ | ä»»åŠ¡ | éªŒæ”¶æ ‡å‡† |
|------|------|------|----------|
| **Iter 9** | 15min | å®ç° Pattern åˆ›å»ºå‘½ä»¤ | `otr pattern create` èƒ½åˆ›å»º Pattern |
| **Iter 10** | 15min | å®ç° Pattern åˆ—è¡¨å‘½ä»¤ | `otr pattern list` èƒ½åˆ—å‡ºæ‰€æœ‰ Pattern |
| **Iter 11** | 15min | å®ç° Pattern æŸ¥çœ‹å‘½ä»¤ | `otr pattern show <id>` èƒ½æŸ¥çœ‹è¯¦æƒ… |
| **Iter 12** | 15min | å®ç° Pattern åˆ é™¤å‘½ä»¤ | `otr pattern delete <id>` èƒ½åˆ é™¤ |
| **Iter 13** | 15min | å®ç° Pattern æ›´æ–°å‘½ä»¤ | `otr pattern update` èƒ½æ›´æ–°å­—æ®µ |
| **Iter 14** | 15min | å®ç° Strength ç®¡ç† (Reinforce) | ä½¿ç”¨æ—¶ Strength è‡ªåŠ¨å¢åŠ  |
| **Iter 15** | 15min | å®ç° Decay æœºåˆ¶ | Strength æŒ‰æ—¶é—´è¡°å‡ï¼Œä½äºé˜ˆå€¼å¤±æ•ˆ |
| **Iter 16** | 15min | å®ç°åŒ¹é…ç­–ç•¥: Exact Match | ç²¾ç¡®åŒ¹é…è§¦å‘è¯ |
| **Iter 17** | 15min | å®ç°åŒ¹é…ç­–ç•¥: Keyword Match | å…³é”®è¯åŒ¹é… |
| **Iter 18** | 15min | å®ç°åŒ¹é…å¼•æ“ (Engine) | å¤šç­–ç•¥ç»„åˆï¼Œå¹¶è¡Œæ‰§è¡Œ |
| **Iter 19** | 15min | å®ç°åŒ¹é…ç¼“å­˜ (LRU) | åŒ¹é…ç»“æœç¼“å­˜ï¼Œå‡å°‘é‡å¤è®¡ç®— |
| **Iter 20** | 15min | Phase 2 é›†æˆæµ‹è¯• | å®Œæ•´ Pattern ç”Ÿå‘½å‘¨æœŸæµ‹è¯• |

---

## 4. Phase 3: CLIäº¤äº’ (è¿­ä»£ 21-30)

### ç›®æ ‡: å®ç°ä¸‰å±‚ç»ˆç«¯UIå’Œäº¤äº’

| è¿­ä»£ | æ—¶é•¿ | ä»»åŠ¡ | éªŒæ”¶æ ‡å‡† |
|------|------|------|----------|
| **Iter 21** | 15min | ç»ˆç«¯æ¸²æŸ“å±‚åŸºç¡€ (tview/lipgloss) | èƒ½æ¸²æŸ“åŸºæœ¬ç•Œé¢ |
| **Iter 22** | 15min | å®ç° Layer 1: æ€ç»´é“¾æ ‘ | ä»å·¦åˆ°å³æ ‘å½¢å±•ç¤º |
| **Iter 23** | 15min | å®ç° Layer 2: è¾“å‡ºå†…å®¹ | å±•ç¤º AI ç”Ÿæˆå†…å®¹ |
| **Iter 24** | 15min | å®ç° Layer 3: è¾“å…¥åŒºåŸŸ | ç”¨æˆ·è¾“å…¥æ¡† |
| **Iter 25** | 15min | é”®ç›˜å¤„ç†: ä¸Šä¸‹é€‰æ‹© | [â†‘/â†“] é€‰æ‹©åˆ†æ”¯ |
| **Iter 26** | 15min | é”®ç›˜å¤„ç†: å±•å¼€/è¿”å› | [â†’/â†] å±•å¼€/è¿”å› |
| **Iter 27** | 15min | é”®ç›˜å¤„ç†: æ‰§è¡Œ/ç¡®è®¤ | [Space/Enter] è§¦å‘ç”Ÿæˆ |
| **Iter 28** | 15min | é”®ç›˜å¤„ç†: å¸®åŠ©/é€€å‡º | [h/?] å¸®åŠ©ï¼Œ[q] é€€å‡º |
| **Iter 29** | 15min | ä¸»é¢˜ç³»ç»Ÿ (Light/Dark) | æ”¯æŒä¸»é¢˜åˆ‡æ¢ |
| **Iter 30** | 15min | Phase 3 é›†æˆæµ‹è¯• | å®Œæ•´ UI äº¤äº’æµ‹è¯• |

---

## 5. Phase 4: AIé›†æˆ (è¿­ä»£ 31-36)

### ç›®æ ‡: é›†æˆ Claude AI Provider

| è¿­ä»£ | æ—¶é•¿ | ä»»åŠ¡ | éªŒæ”¶æ ‡å‡† |
|------|------|------|----------|
| **Iter 31** | 15min | AI Provider æ¥å£å®šä¹‰ | `contracts.AIProvider` æ¥å£å®Œæ•´ |
| **Iter 32** | 15min | Anthropic SDK é›†æˆ | èƒ½è°ƒç”¨ Claude API |
| **Iter 33** | 15min | Prompt æ„å»ºå™¨ | æ„å»ºåˆé€‚çš„ prompt |
| **Iter 34** | 15min | å“åº”è§£æå™¨ | è§£æ AI å“åº”ä¸ºç»“æ„åŒ–æ•°æ® |
| **Iter 35** | 15min | æµå¼è¾“å‡ºæ”¯æŒ | æ‰“å­—æœºæ•ˆæœå±•ç¤º |
| **Iter 36** | 15min | Phase 4 é›†æˆæµ‹è¯• | å®Œæ•´ AI ç”Ÿæˆæµç¨‹æµ‹è¯• |

---

## 6. Phase 5: æµ‹è¯•è°ƒä¼˜ (è¿­ä»£ 37-42)

### ç›®æ ‡: æµ‹è¯•è¦†ç›–å’Œæ€§èƒ½ä¼˜åŒ–

| è¿­ä»£ | æ—¶é•¿ | ä»»åŠ¡ | éªŒæ”¶æ ‡å‡† |
|------|------|------|----------|
| **Iter 37** | 15min | å•å…ƒæµ‹è¯•: Core æ¨¡å— | Matcher/Storage > 80% è¦†ç›– |
| **Iter 38** | 15min | å•å…ƒæµ‹è¯•: CLI æ¨¡å— | å‘½ä»¤å¤„ç† > 70% è¦†ç›– |
| **Iter 39** | 15min | é›†æˆæµ‹è¯•: å®Œæ•´æµç¨‹ | ç«¯åˆ°ç«¯æµ‹è¯•é€šè¿‡ |
| **Iter 40** | 15min | æ€§èƒ½ä¼˜åŒ–: ç¼“å­˜è°ƒä¼˜ | åŒ¹é… < 50ms |
| **Iter 41** | 15min | é”™è¯¯å¤„ç†å®Œå–„ | é”™è¯¯æç¤ºå‹å¥½ |
| **Iter 42** | 15min | æœ€ç»ˆéªŒæ”¶æµ‹è¯• | v1.0 åŠŸèƒ½å®Œæ•´å¯ç”¨ |

---

## 7. æ¯æ¬¡è¿­ä»£æŠ¥å‘Šæ¨¡æ¿

```markdown
## è¿­ä»£æŠ¥å‘Š: [Iter-X]

### ä»»åŠ¡
- [ ] ä»»åŠ¡1
- [ ] ä»»åŠ¡2

### å®Œæˆæƒ…å†µ
- [x] ä»»åŠ¡1: å®Œæˆï¼Œè€—æ—¶ XX min
- [ ] ä»»åŠ¡2: æœªå®Œæˆï¼ŒåŸå› ...

### ä»£ç å˜æ›´
- æ–°å¢æ–‡ä»¶: 
- ä¿®æ”¹æ–‡ä»¶:
- åˆ é™¤æ–‡ä»¶:

### æµ‹è¯•ç»“æœ
- å•å…ƒæµ‹è¯•: é€šè¿‡/å¤±è´¥
- é›†æˆæµ‹è¯•: é€šè¿‡/å¤±è´¥

### é˜»å¡é—®é¢˜
- é—®é¢˜1: ...

### ä¸‹ä¸€æ­¥
- ç»§ç»­å½“å‰ä»»åŠ¡
- å¼€å§‹ä¸‹ä¸€ä»»åŠ¡
```

---

## 8. å¼€å‘è§„èŒƒ

### 8.1 TDD æµç¨‹

```
1. å†™æµ‹è¯• (Red)     â†’ è¿è¡Œæµ‹è¯•ï¼Œè§çº¢
2. å†™å®ç° (Green)   â†’ å†™æœ€ç®€å•ä»£ç ï¼Œè§ç»¿
3. é‡æ„ (Refactor)  â†’ ä¼˜åŒ–ä»£ç 
4. æäº¤             â†’ git commit
```

### 8.2 ä»£ç è§„èŒƒ

- ä½¿ç”¨ `golangci-lint` æ£€æŸ¥
- éµå¾ª standard Go project layout
- ä¾èµ–é€šè¿‡ Go Modules ç®¡ç†
- é”™è¯¯å¤„ç†ä½¿ç”¨å®šä¹‰çš„é”™è¯¯ç 

### 8.3 æäº¤è§„èŒƒ

```bash
# æäº¤æ ¼å¼
<type>(<scope>): <description>

# ç¤ºä¾‹
feat(matcher): add exact match strategy
fix(storage): handle nil pattern
docs(readme): update installation guide
test(core): add matcher unit tests
```

---

## 9. è¿›åº¦è¿½è¸ª

### 9.1 å½“å‰çŠ¶æ€

| Phase | è¿­ä»£ | çŠ¶æ€ | å®Œæˆåº¦ |
|-------|------|------|--------|
| Phase 1 | 1-8 | ğŸ”¶ å¾…å¼€å§‹ | 0% |
| Phase 2 | 9-20 | ğŸ”¶ å¾…å¼€å§‹ | 0% |
| Phase 3 | 21-30 | ğŸ”¶ å¾…å¼€å§‹ | 0% |
| Phase 4 | 31-36 | ğŸ”¶ å¾…å¼€å§‹ | 0% |
| Phase 5 | 37-42 | ğŸ”¶ å¾…å¼€å§‹ | 0% |

---

## 10. å¼€å‘è§„åˆ™

### 10.1 è¿­ä»£æ‰§è¡Œè§„åˆ™

1. **è‡ªåŠ¨æ¨è¿›**: æ¯ä¸ªè¿­ä»£å®Œæˆåï¼Œè‡ªåŠ¨å¼€å§‹ä¸‹ä¸€ä¸ªè¿­ä»£ï¼Œæ— éœ€ç­‰å¾…ç¡®è®¤
2. **é˜»å¡æ—¶æ±‡æŠ¥**: é‡åˆ°éš¾ä»¥å†³ç­–çš„é—®é¢˜æ—¶ï¼Œæš‚åœå¹¶å‘ç”¨æˆ·æ±‡æŠ¥
3. **å®šæ—¶å¯¹é½**: æ¯1å°æ—¶ä¸å¼€å‘è®¡åˆ’å¯¹é½æ ¡å‡†è¿›åº¦
4. **TDDæµç¨‹**: æµ‹è¯•é©±åŠ¨å¼€å‘ï¼Œå…ˆå†™æµ‹è¯•ï¼Œå†å†™å®ç°

### 10.2 å†³ç­–è§„åˆ™

| ç±»å‹ | å¤„ç†æ–¹å¼ |
|------|----------|
| **å¸¸è§„å†³ç­–** | ç›´æ¥æ‰§è¡Œï¼ˆéµå¾ªæ¶æ„è®¾è®¡å’Œéœ€æ±‚ï¼‰ |
| **æ¶æ„/è®¾è®¡å˜æ›´** | æš‚åœå¹¶è¯¢é—®ç”¨æˆ· |
| **æŠ€æœ¯é€‰å‹** | éµå¾ªå·²ç¡®å®šçš„æŠ€æœ¯æ ˆ |
| **åŠŸèƒ½å˜æ›´** | éµå¾ªéœ€æ±‚æ–‡æ¡£ï¼Œè¶…å‡ºèŒƒå›´åˆ™è¯¢é—® |

---

**Document Version**: v1.0  
**Last Updated**: 2026-02-20
